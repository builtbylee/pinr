appId: com.builtbylee.app80days
---
- launchApp
- runFlow:
    when:
      visible: ".*DEBUG.*"
    commands:
        # Open Friends
        - tapOn:
            id: "fab-menu-toggle"
        - tapOn:
            id: "fab-friends-button"
            
        # Navigate to Add Friend
        - tapOn:
            id: "tab-add-friend"
            
        # Search for User
        - tapOn:
            id: "friend-search-input"
        - inputText: "lee"
        - tapOn:
            id: "friend-search-button"
            
        # Verify result or empty state
        # (Assuming 'lee' might exist or not, we check UI doesn't crash)
        - assertVisible: "Find People"
        
        - tapOn: "x" # Close modal icon name is 'x' usually implies an accessibility label or text, here it might be an icon.
        # Fallback to tap point if needed, or if we used a standard Close button text
        # FriendsModal has a close button with Feather icon 'x'. Maestro usually finds 'x' if it's text, but icons are tricky.
        # I didn't add testID to the close button in FriendsModal.
        # I'll rely on "back" behavior or add testID? 
        # Actually FriendsModal close button is:
        # <TouchableOpacity onPress={onClose} style={styles.closeButton}>
        #    <Feather name="x"... 
        # It has no text "Close".
        # I'll use back press or tap location relative... or just leave it open as it's the end of flow.
